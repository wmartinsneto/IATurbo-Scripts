<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://iaturbo.com.br/wp-content/uploads/scripts/dify/client/client.css">
    <!-- Incluir a biblioteca Showdown -->
    <script src="https://cdn.jsdelivr.net/npm/showdown@2.1.0/dist/showdown.min.js"></script>
</head>
<body>
    <div id="chatbot">
        <div id="textContainer">
            <input id="chatbotInput" type="text" placeholder="Precisa de ajuda?">
            <div id="transcribingMessage" style="display:none;">
                Transcrevendo<span id="ellipsis"></span>
            </div>
        </div>
        <div id="buttonsContainer">
            <div id="recordingContainer" style="display:none;">
                <button id="trashButton" data-tooltip="Cancelar gravação" class="input-button pulse">
                    <img src="https://iaturbo.com.br/wp-content/uploads/2025/02/Lixo2.png" alt="Cancelar gravação" style="height:30px; width:auto; filter: drop-shadow(0 0 3px rgba(67, 217, 234, 0.7));">
                </button>
                <span id="recordingTimer" style="font-family: 'Consolas', monospace;">00:00</span>
            </div>
            <button id="micOnButton" style="display:none;" class="input-button">
                <img src="https://iaturbo.com.br/wp-content/uploads/2025/02/Mic-Vermelho.png" alt="Microfone Gravando" style="height:30px; width:auto; filter: drop-shadow(0 0 3px rgba(255, 77, 77, 0.7));">
            </button>
            <button id="micOffButton" data-tooltip="Clique para falar" class="input-button">
                <img src="https://iaturbo.com.br/wp-content/uploads/2025/02/Mic-Azul.png" alt="Ativar microfone" style="height:30px; width:auto; filter: drop-shadow(0 0 3px rgba(67, 217, 234, 0.7));">
            </button>
            <button id="sendButton" data-tooltip="Enviar mensagem" class="input-button">
                <img src="https://iaturbo.com.br/wp-content/uploads/2025/03/sendButton.png" alt="Enviar mensagem" style="height:30px; width:auto; filter: drop-shadow(0 0 3px rgba(67, 217, 234, 0.7));">                
            </button>
        </div>
    </div>
    <div id="chatWindow">
        <div id="chatHeader">
            <span>Pergunte para a IARA</span>
            <div>
                <button id="audioToggleButton" data-tooltip="Desativar áudio" aria-label="Desativar áudio">
                    <!-- Ícone de som ligado (SVG) -->
                    <svg id="soundOnIcon" class="icon-svg" viewBox="0 0 24 24" style="display:inline;">
                        <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
                    </svg>
                    <!-- Ícone de som desligado (SVG) -->
                    <svg id="soundOffIcon" class="icon-svg" viewBox="0 0 24 24" style="display:none;">
                        <path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>
                    </svg>
                </button>
                <button id="refreshButton" data-tooltip="Limpar conversa" aria-label="Limpar conversa">
                    <!-- Ícone de refresh (SVG) -->
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
                    </svg>
                </button>
                <button id="closeButton" data-tooltip="Fechar janela" aria-label="Fechar janela">
                    <!-- Ícone de fechar (SVG) -->
                    <svg class="icon-svg" viewBox="0 0 24 24">
                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                    </svg>
                </button>
            </div>
        </div>
        <!-- Novo container para as mensagens -->
        <div id="messagesContainer"></div>
    </div>
    <script src="https://iaturbo.com.br/wp-content/uploads/scripts/dify/client/client.js"></script>
</body>
</html>
